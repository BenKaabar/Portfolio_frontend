{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let DashboardWorkComponent = class DashboardWorkComponent {\n  constructor(WorkService, formBuilder) {\n    this.WorkService = WorkService;\n    this.formBuilder = formBuilder;\n    this.page = 1;\n    this.itemsPerPage = 5;\n    this.allWork = [];\n    this.selectedWork = null;\n    this.isConsultModalOpen = false;\n    this.isCreateModalOpen = false;\n  }\n  ngOnInit() {\n    this.getAllWork();\n  }\n  // ********************************************************************** Display Fournisseur **********************************************************************\n  getAllWork() {\n    this.WorkService.AllWorks().subscribe({\n      next: response => {\n        this.allWork = response;\n      }\n    });\n  }\n  //  ********************************************************************** Consulting **********************************************************************\n  openConsultModal(Work) {\n    console.log(Work);\n    this.selectedWork = Work;\n    this.isConsultModalOpen = true;\n  }\n  closeConsultModal() {\n    this.isConsultModalOpen = false;\n  }\n  //  ********************************************************************** delete **********************************************************************\n  toDelete(idWork) {\n    this.WorkService.deleteWork(idWork).subscribe({\n      next: response => {\n        this.allWork = this.allWork.filter(Work => Work.idWork !== idWork);\n        this.getAllWork();\n      }\n    });\n  }\n  //  ********************************************************************** Create **********************************************************************\n  initializeCreateContactform() {\n    this.CreateWorkform = this.formBuilder.group({\n      firstname: ['', [Validators.required, Validators.pattern('^[a-zA-ZÀ-ÿ\\\\s]+$')]],\n      lastname: ['', [Validators.required, Validators.pattern('^[a-zA-ZÀ-ÿ\\\\s]+$')]],\n      phone: ['', [Validators.required, Validators.pattern('^[0-9]{8}$')]],\n      email: ['', [Validators.required, Validators.email]],\n      service: ['', [Validators.required]],\n      message: ['']\n    });\n  }\n  openCreateModal() {\n    this.isCreateModalOpen = true;\n  }\n  closeCreateModal() {\n    this.isCreateModalOpen = false;\n  }\n  CreateWork() {}\n  //  ********************************************************************** Pagination **********************************************************************\n  get paginatedWorks() {\n    const startIndex = (this.page - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    return this.allWork.slice(startIndex, endIndex);\n  }\n  get totalPages() {\n    return Math.ceil(this.allWork.length / this.itemsPerPage);\n  }\n  get isPreviousPageDisabled() {\n    return this.page === 1;\n  }\n  get isNextPageDisabled() {\n    return this.page === this.totalPages;\n  }\n  goToNextPage() {\n    if (this.page < this.totalPages) {\n      this.page++;\n    }\n  }\n  goToPreviousPage() {\n    if (this.page > 1) {\n      this.page--;\n    }\n  }\n};\nDashboardWorkComponent = __decorate([Component({\n  selector: 'app-dashboard-work',\n  templateUrl: './dashboard-work.component.html',\n  styleUrls: ['./dashboard-work.component.css']\n})], DashboardWorkComponent);","map":{"version":3,"names":["Component","DashboardWorkComponent","constructor","WorkService","formBuilder","page","itemsPerPage","allWork","selectedWork","isConsultModalOpen","isCreateModalOpen","ngOnInit","getAllWork","AllWorks","subscribe","next","response","openConsultModal","Work","console","log","closeConsultModal","toDelete","idWork","deleteWork","filter","initializeCreateContactform","CreateWorkform","group","firstname","Validators","required","pattern","lastname","phone","email","service","message","openCreateModal","closeCreateModal","CreateWork","paginatedWorks","startIndex","endIndex","slice","totalPages","Math","ceil","length","isPreviousPageDisabled","isNextPageDisabled","goToNextPage","goToPreviousPage","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\achra\\OneDrive\\Bureau\\Portfolio\\frontend\\Portfolio\\src\\app\\components\\dashboard\\dashboard-work\\dashboard-work.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Work } from 'src/app/models/work';\nimport { WorkService } from './../../../services/Work/work.service';\nimport { FormGroup } from '@angular/forms';\n@Component({\n  selector: 'app-dashboard-work',\n  templateUrl: './dashboard-work.component.html',\n  styleUrls: ['./dashboard-work.component.css']\n})\nexport class DashboardWorkComponent  implements OnInit{\n  page: number = 1;\n  itemsPerPage: number = 5;\n  allWork: Work[] = [];\n  selectedWork:Work | null = null;\n  isConsultModalOpen = false;\n  isCreateModalOpen =false;\n  CreateWorkform!: FormGroup;\n\n  constructor(private WorkService: WorkService,\n     private formBuilder: FormBuilder\n  ){}\n  \n  ngOnInit(): void {\n    this.getAllWork();\n  }\n\n// ********************************************************************** Display Fournisseur **********************************************************************\n  getAllWork() {\n    this.WorkService.AllWorks().subscribe({\n      next: (response)=>{\n        this.allWork = response;\n      },\n    })\n  }\n\n//  ********************************************************************** Consulting **********************************************************************\n  openConsultModal(Work: Work) {\n    console.log(Work)\n    this.selectedWork = Work;\n    this.isConsultModalOpen = true;\n  }\n\n  closeConsultModal() {\n    this.isConsultModalOpen = false;\n  }\n\n//  ********************************************************************** delete **********************************************************************\n  toDelete(idWork: string): void{\n    this.WorkService.deleteWork(idWork).subscribe({\n      next:(response)=>{\n        this.allWork = this.allWork.filter(Work => Work.idWork !== idWork);\n        this.getAllWork();\n      },\n    });\n  }\n  \n//  ********************************************************************** Create **********************************************************************\n    initializeCreateContactform(): void {\n      this.CreateWorkform = this.formBuilder.group({\n        firstname: ['', [Validators.required, Validators.pattern('^[a-zA-ZÀ-ÿ\\\\s]+$')]],\n        lastname: ['', [Validators.required, Validators.pattern('^[a-zA-ZÀ-ÿ\\\\s]+$')]],\n        phone: ['', [Validators.required, Validators.pattern('^[0-9]{8}$')]],\n        email: ['', [Validators.required, Validators.email]],\n        service: ['', [Validators.required]],\n        message: ['']\n      });\n    }\n    openCreateModal() {\n    this.isCreateModalOpen = true;\n  }\n\n  closeCreateModal() {\n    this.isCreateModalOpen = false;\n  }\n  CreateWork(){\n\n  }\n//  ********************************************************************** Pagination **********************************************************************\n  get paginatedWorks(): Work[] {\n    const startIndex = (this.page - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    return this.allWork.slice(startIndex, endIndex);\n  }\n  get totalPages(): number {\n    return Math.ceil(this.allWork.length / this.itemsPerPage);\n  }\n  get isPreviousPageDisabled(): boolean {\n    return this.page === 1;\n  }\n  get isNextPageDisabled(): boolean {\n    return this.page === this.totalPages;\n  }\n  goToNextPage(): void {\n    if (this.page < this.totalPages) {\n      this.page++;\n    }\n  }\n  goToPreviousPage(): void {\n    if (this.page > 1) {\n      this.page--;\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}