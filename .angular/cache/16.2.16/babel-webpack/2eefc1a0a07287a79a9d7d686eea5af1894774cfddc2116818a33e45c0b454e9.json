{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HomeComponent = class HomeComponent {\n  constructor(homeService, languageService) {\n    this.homeService = homeService;\n    this.languageService = languageService;\n    this.allHomes = [];\n    this.selectedHome = null;\n  }\n  ngOnInit() {\n    this.getallHomes();\n  }\n  // ********************************************************************** Display Home **********************************************************************\n  getallHomes() {\n    this.homeService.AllHome().subscribe({\n      next: response => {\n        this.allHomes = response.map(home => {\n          return {\n            ...home,\n            filephoto: 'data:image/jpeg;base64,' + home.filephoto,\n            cvFile: 'data:image/pdf;base64,' + home.cvFile\n          };\n        });\n        if (this.allHomes.length > 0) {\n          this.selectedHome = this.allHomes[0];\n        }\n      },\n      error: err => {\n        console.error(\"Error fetching homes: \", err);\n      }\n    });\n  }\n  // ********************************************************************** download CV **********************************************************************\n  downloadCV() {\n    // if (this.selectedHome?.cvFile) {\n    //   const blob = new Blob([this.selectedHome.cvFile], { type: 'application/pdf' });\n    //   const url = URL.createObjectURL(blob);  \n    //   const link = document.createElement('a');\n    //   link.href = url;\n    //   link.download = this.selectedHome.nameCvFile;\n    //   document.body.appendChild(link);\n    //   link.click();\n    //   document.body.removeChild(link);\n    //   URL.revokeObjectURL(url);\n    // } else {\n    //   console.error(\"Aucun fichier CV trouvé !\");\n    // }\n    downloadCV();\n    {\n      let fileName = this.currentLanguage === 'Fr' ? 'CV_Fr.pdf' : 'CV_En.pdf'; // Par défaut EN pour DE aussi\n      let filePath = `assets/pdf/${fileName}`;\n      // Création d'un lien pour télécharger le fichier\n      const link = document.createElement('a');\n      link.href = filePath;\n      link.download = fileName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);","map":{"version":3,"names":["Component","HomeComponent","constructor","homeService","languageService","allHomes","selectedHome","ngOnInit","getallHomes","AllHome","subscribe","next","response","map","home","filephoto","cvFile","length","error","err","console","downloadCV","fileName","currentLanguage","filePath","link","document","createElement","href","download","body","appendChild","click","removeChild","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\achra\\OneDrive\\Bureau\\Portfolio\\frontend\\Portfolio\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["import { HomeService } from './../../services/Home/home.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Home } from 'src/app/models/Home';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit{\n  allHomes: any[] = [];\n  selectedHome: Home | null = null;\n\n  constructor(private homeService: HomeService, private languageService: LanguageService){ }\n\n  ngOnInit(): void {\n    this.getallHomes();\n  }\n\n// ********************************************************************** Display Home **********************************************************************\n  getallHomes() {\n    this.homeService.AllHome().subscribe({\n      next: (response) => {\n        this.allHomes = response.map(home => {\n          return {\n            ...home,\n            filephoto: 'data:image/jpeg;base64,' + home.filephoto,\n            cvFile: 'data:image/pdf;base64,' + home.cvFile \n          };\n        });\n\n        if (this.allHomes.length > 0) {\n          this.selectedHome = this.allHomes[0];\n        }\n      },\n      error: (err) => {\n        console.error(\"Error fetching homes: \", err);\n      }\n    });\n  }\n\n// ********************************************************************** download CV **********************************************************************\n  downloadCV() {\n    // if (this.selectedHome?.cvFile) {\n    //   const blob = new Blob([this.selectedHome.cvFile], { type: 'application/pdf' });\n    //   const url = URL.createObjectURL(blob);  \n    //   const link = document.createElement('a');\n    //   link.href = url;\n    //   link.download = this.selectedHome.nameCvFile;\n    //   document.body.appendChild(link);\n    //   link.click();\n    //   document.body.removeChild(link);\n    //   URL.revokeObjectURL(url);\n    // } else {\n    //   console.error(\"Aucun fichier CV trouvé !\");\n    // }\n    downloadCV() {\n      let fileName = this.currentLanguage === 'Fr' ? 'CV_Fr.pdf' : 'CV_En.pdf'; // Par défaut EN pour DE aussi\n      let filePath = `assets/pdf/${fileName}`;\n    \n      // Création d'un lien pour télécharger le fichier\n      const link = document.createElement('a');\n      link.href = filePath;\n      link.download = fileName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n  \n}\n"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAIxBC,YAAoBC,WAAwB,EAAUC,eAAgC;IAAlE,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,eAAe,GAAfA,eAAe;IAHrE,KAAAC,QAAQ,GAAU,EAAE;IACpB,KAAAC,YAAY,GAAgB,IAAI;EAEyD;EAEzFC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEF;EACEA,WAAWA,CAAA;IACT,IAAI,CAACL,WAAW,CAACM,OAAO,EAAE,CAACC,SAAS,CAAC;MACnCC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAACP,QAAQ,GAAGO,QAAQ,CAACC,GAAG,CAACC,IAAI,IAAG;UAClC,OAAO;YACL,GAAGA,IAAI;YACPC,SAAS,EAAE,yBAAyB,GAAGD,IAAI,CAACC,SAAS;YACrDC,MAAM,EAAE,wBAAwB,GAAGF,IAAI,CAACE;WACzC;QACH,CAAC,CAAC;QAEF,IAAI,IAAI,CAACX,QAAQ,CAACY,MAAM,GAAG,CAAC,EAAE;UAC5B,IAAI,CAACX,YAAY,GAAG,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC;;MAExC,CAAC;MACDa,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEC,GAAG,CAAC;MAC9C;KACD,CAAC;EACJ;EAEF;EACEE,UAAUA,CAAA;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAA,UAAU,EAAE;IAAC;MACX,IAAIC,QAAQ,GAAG,IAAI,CAACC,eAAe,KAAK,IAAI,GAAG,WAAW,GAAG,WAAW,CAAC,CAAC;MAC1E,IAAIC,QAAQ,GAAG,cAAcF,QAAQ,EAAE;MAEvC;MACA,MAAMG,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAGJ,QAAQ;MACpBC,IAAI,CAACI,QAAQ,GAAGP,QAAQ;MACxBI,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,EAAE;MACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;;EAEnC;CAED;AA7DYxB,aAAa,GAAAiC,UAAA,EALzBlC,SAAS,CAAC;EACTmC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWpC,aAAa,CA6DzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}